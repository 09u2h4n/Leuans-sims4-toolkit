<Window x:Class="ModernDesign.MVVM.View.DLCUnlockerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="http://schemas.microsoft.com/netfx/2009/xaml/presentation"
        Title="Leuan | Unlocker Status"
        Height="350" Width="600"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen" HorizontalAlignment="Center" Icon="/Icono_TLK - copia.ico">

    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome CaptionHeight="40"
                            ResizeBorderThickness="6"
                            CornerRadius="0"
                            GlassFrameThickness="0"
                            UseAeroCaptionButtons="False"/>
    </shell:WindowChrome.WindowChrome>

    <Border CornerRadius="16">
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#0F172A" Offset="0"/>
                <GradientStop Color="#1E293B" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>
        <Border.Effect>
            <DropShadowEffect BlurRadius="30" ShadowDepth="0" Opacity="0.5"/>
        </Border.Effect>

        <Grid HorizontalAlignment="Center">
            <Grid.RowDefinitions>
                <RowDefinition Height="2.929"/>
                <RowDefinition Height="47.071"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- HEADER -->
            <Border Grid.Row="0" Padding="20,10" Grid.RowSpan="2">
                <Grid>
                    <!-- Left side: Title + Back -->
                    <StackPanel Orientation="Horizontal"
                                VerticalAlignment="Center"
                                shell:WindowChrome.IsHitTestVisibleInChrome="True">

                        <!-- Back button -->
                        <Button x:Name="BackBtn"
                                Content="←"
                                Width="32" Height="28"
                                Margin="0,-4,8,0"
                                Background="Transparent"
                                Foreground="#94A3B8"
                                BorderThickness="0"
                                Cursor="Hand"
                                Click="BackBtn_Click"
                                ToolTip="Back"/>

                        <TextBlock Text="EA DLC Unlocker"
                                   Foreground="White"
                                   FontSize="16"
                                   FontWeight="SemiBold"/>
                    </StackPanel>

                    <!-- Close button -->
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                shell:WindowChrome.IsHitTestVisibleInChrome="True"/>
                </Grid>
            </Border>

            <!-- CONTENT -->
            <Border Grid.Row="2"
                    Margin="20,0,20,20"
                    CornerRadius="12"
                    Background="#10FFFFFF">

                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Status -->
                    <StackPanel Grid.Row="0"
                                HorizontalAlignment="Center"
                                Margin="0,0,0,12">

                        <TextBlock x:Name="StatusText"
                                   Text="Checking unlocker status..."
                                   Foreground="White"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   TextAlignment="Center"
                                   Margin="0,0,0,4"/>

                        <TextBlock Text="This module handles the installation and auto-configuration of the EA DLC Unlocker for EA app / Origin."
                                   Foreground="#CBD5F5"
                                   FontSize="12"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center"/>
                    </StackPanel>

                    <!-- Install button -->
                    <StackPanel Grid.Row="1"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Center">

                        <Button x:Name="InstallBtn"
                                Content="Install EA DLC Unlocker"
                                Width="260" Height="40"
                                FontWeight="SemiBold"
                                Foreground="White"
                                Background="#2563EB"
                                BorderThickness="0"
                                Cursor="Hand"
                                Click="InstallBtn_Click"
                                Margin="0,0,0,8"/>

                        <!-- New uninstall button (hidden by default) -->
                        <Button x:Name="UninstallBtn"
                        Content="Uninstall EA DLC Unlocker"
                        Width="260" Height="34"
                        FontWeight="SemiBold"
                        Foreground="White"
                        Background="#DC2626"
                        BorderThickness="0"
                        Cursor="Hand"
                        Click="UninstallBtn_Click"
                        Visibility="Collapsed"/>
                    </StackPanel>


                    <!-- Hint -->
                    <StackPanel Grid.Row="2" 
                    HorizontalAlignment="Center"
                    Margin="0,8,0,0">
                                <TextBlock x:Name="HintText"
                       Foreground="#9CA3AF"
                       FontSize="11"
                       TextWrapping="Wrap"
                       TextAlignment="Center"/>

                    <TextBlock TextAlignment="Center" Margin="0,8,0,0">
                    <Hyperlink NavigateUri="https://leuan.zeroauno.com/sims4-toolkit/otherOS.html"
                           RequestNavigate="OtherOS_RequestNavigate"
                           Foreground="#60A5FA"
                           TextDecorations="None">
                    <Run x:Name="OtherOSText" Text="Using Linux / MacOS / SteamDeck? Click here!" FontSize="10"/>
                </Hyperlink>
                        </TextBlock>
                    </StackPanel>

                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
